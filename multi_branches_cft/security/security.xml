<?xml version="1.0" encoding="utf-8"?>
<odoo>

	<data noupdate="1">	
		<record id="group_multi_branch" model="res.groups">
	        <field name="name">Multi Operating Branch</field>
	    </record>
	</data>
    
    <record id="rule_picking_operating_branch" model="ir.rule">
        <field name="name">Picking Operating Branch</field>
        <field name="model_id" ref="model_stock_picking"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    

    <record id="rule_sale_order_all_manager" model="ir.rule">
        <field name="name">All Orders</field>
        <field ref="model_sale_order" name="model_id"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4,ref('sales_team.group_sale_manager'))]"/>
    </record>


    <record id="rule_purchase_branch_manager" model="ir.rule">
        <field name="name">Purchase Operating Branch</field>
        <field name="model_id" ref="model_purchase_order"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>

    <record id="rule_purchase_operating_branch" model="ir.rule">
        <field name="name">Purchase Operating Branch</field>
        <field name="model_id" ref="model_purchase_order"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>


    <record id="rule_picking_branch_manager" model="ir.rule">
        <field name="name">Picking Operating Branch</field>
        <field name="model_id" ref="model_stock_picking"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    
    <record id="sale.sale_order_see_all" model="ir.rule">
        <field name="name">All Operating Branch Orders</field>
        <field ref="model_sale_order" name="model_id"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman_all_leads'))]"/>
    </record>

    <record id="sale.sale_order_personal_rule" model="ir.rule">
        <field name="name">Personal Orders</field>
        <field ref="model_sale_order" name="model_id"/>
        <field name="domain_force">['|',('operating_branch_id','=',False),('operating_branch_id','=',user.operating_branch_id.id),('user_id','=',user.id)]</field>
        <field name="groups" eval="[(4, ref('sales_team.group_sale_salesman'))]"/>
    </record>
    
    <record id="rule_warehouse_branch_manager" model="ir.rule">
        <field name="name">Warehouse Operating Branch</field>
        <field name="model_id" ref="stock.model_stock_warehouse"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    
    <record id="rule_warehouse_operating_branch" model="ir.rule">
        <field name="name">Warehouse Operating Branch</field>
        <field name="model_id" ref="stock.model_stock_warehouse"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    
    <record id="rule_picking_type_branch_manager" model="ir.rule">
        <field name="name">Picking Type Operating Branch</field>
        <field name="model_id" ref="stock.model_stock_picking_type"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    
    <record id="rule_picking_type_operating_branch" model="ir.rule">
        <field name="name">Picking Type Operating Branch</field>
        <field name="model_id" ref="stock.model_stock_picking_type"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>

    <record id="rule_stock_quant_branch_manager" model="ir.rule">
        <field name="name">Stock Quant Operating Branch</field>
        <field name="model_id" ref="stock.model_stock_quant"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    <record id="rule_product_product_operating_branch" model="ir.rule">
        <field name="name">Product Product Operating Branch</field>
        <field name="model_id" ref="product.model_product_product"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('product_tmpl_id.operating_branch_id','=',False),('product_tmpl_id.operating_branch_id','=',user.operating_branch_id.id)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    

    <record id="rule_warehouse_branch_manager" model="ir.rule">
        <field name="name">Warehouse Operating Branch</field>
        <field name="model_id" ref="model_stock_warehouse"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    
    <record id="rule_warehouse_operating_branch" model="ir.rule">
        <field name="name">Warehouse Operating Branch</field>
        <field name="model_id" ref="model_stock_warehouse"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>

    <record id="rule_product_template_branch_manager" model="ir.rule">
        <field name="name">Product Template Operating Branch</field>
        <field name="model_id" ref="model_product_template"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>


    <record id="rule_product_template_operating_branch" model="ir.rule">
        <field name="name">Product Template Operating Branch</field>
        <field name="model_id" ref="model_product_template"/>
        <field name="global" eval="True"/>
        <field name="domain_force">['|',('operating_branch_id','=',user.operating_branch_id.id),('operating_branch_id','=',False)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>

    <record id="rule_product_product_branch_manager" model="ir.rule">
        <field name="name">Product Product Operating Branch</field>
        <field name="model_id" ref="product.model_product_product"/>
        <field name="global" eval="True"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('multi_branches_cft.group_multi_branch'))]"/>
    </record>
    
    
</odoo>